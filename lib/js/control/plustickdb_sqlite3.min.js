var DBDIR,echo,fs,plustickdb_sqlite3,sqlite3;sqlite3=require("sqlite3").verbose(),echo=require("ndlog").echo,fs=require("fs-extra"),DBDIR=`${APPSDIR}/apps/database`,plustickdb_sqlite3=class{constructor(){}init(r){var e;try{return e=`${DBDIR}/${r}`,this._dbobject=new sqlite3.Database(e)}catch(r){return echo(`error: ${r}`)}}begin(){return new Promise((r,e)=>{try{return this._dbobject.prepare("BEGIN TRANSACTION").run(param,(e,t)=>r({err:0}))}catch(r){return e({err:r})}})}commit(){return new Promise((r,e)=>{try{return this._dbobject.prepare("COMMIT").run(param,(e,t)=>r({err:0}))}catch(r){return e({err:r})}})}run(r,e){return new Promise((t,s)=>{try{return this._dbobject.prepare(r,e).run(e,(r,e)=>t({err:0}))}catch(r){return s({err:r})}})}get(r,e){return new Promise((t,s)=>{try{return this._dbobject.prepare(r).all(e,(r,e)=>t({err:0,rows:e}))}catch(r){return s({err:r})}})}all(r,e){return new Promise((t,s)=>{try{return this._dbobject.prepare(r).all(e,(r,e)=>t({err:0,rows:e}))}catch(r){return s({err:r})}})}each(r,e,t){return new Promise((s,c)=>{var n;try{return(n=this._dbobject.prepare(r,e)).each((r,e)=>t(e)),n.finalize(),s({err:0})}catch(r){return c({err:r})}})}close(){return this._dbobject.close()}},module.exports=plustickdb_sqlite3;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIjAiXSwibmFtZXMiOlsiREJESVIiLCJlY2hvIiwiZnMiLCJwbHVzdGlja2RiX3NxbGl0ZTMiLCJzcWxpdGUzIiwicmVxdWlyZSIsInZlcmJvc2UiLCJBUFBTRElSIiwiW29iamVjdCBPYmplY3RdIiwiZGJuYW1lIiwicGF0aCIsInRoaXMiLCJfZGJvYmplY3QiLCJEYXRhYmFzZSIsImVycm9yIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJwcmVwYXJlIiwicnVuIiwicGFyYW0iLCJlcnIiLCJyb3dzIiwic3FsIiwiYWxsIiwiZnVuYyIsInN0bXQiLCJlYWNoIiwiZmluYWxpemUiLCJjbG9zZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBLElBQUlBLE1BQU9DLEtBQU1DLEdBQUlDLG1CQUFvQkMsUUFFekNBLFFBQVVDLFFBQVEsV0FBV0MsVUFFN0JMLEtBQU9JLFFBQVEsU0FBU0osS0FFeEJDLEdBQUtHLFFBQVEsWUFFYkwsU0FBV08sd0JBRVhKLG1CQUFxQixNQUNuQkssZUFFQUEsS0FBS0MsR0FDSCxJQUFPQyxFQUNQLElBRUUsT0FEQUEsS0FBVVYsU0FBU1MsSUFDWkUsS0FBS0MsVUFBWSxJQUFJUixRQUFRUyxTQUFTSCxHQUM3QyxNQUFPSSxHQUVQLE9BQU9iLGVBREhhLE1BS1JOLFFBQ0UsT0FBTyxJQUFJTyxRQUFRLENBQUNDLEVBQVNDLEtBRTNCLElBRUUsT0FET04sS0FBS0MsVUFBVU0sUUFBUSxxQkFDbEJDLElBQUlDLE1BQU8sQ0FBQ0MsRUFBS0MsSUFFcEJOLEVBQVEsQ0FDYkssSUFBSyxLQUdULE1BQU9QLEdBRVAsT0FBT0csRUFBTyxDQUNaSSxJQUZFUCxPQVFWTixTQUNFLE9BQU8sSUFBSU8sUUFBUSxDQUFDQyxFQUFTQyxLQUUzQixJQUVFLE9BRE9OLEtBQUtDLFVBQVVNLFFBQVEsVUFDbEJDLElBQUlDLE1BQU8sQ0FBQ0MsRUFBS0MsSUFFcEJOLEVBQVEsQ0FDYkssSUFBSyxLQUdULE1BQU9QLEdBRVAsT0FBT0csRUFBTyxDQUNaSSxJQUZFUCxPQVFWTixJQUFJZSxFQUFLSCxHQUNQLE9BQU8sSUFBSUwsUUFBUSxDQUFDQyxFQUFTQyxLQUUzQixJQUVFLE9BRE9OLEtBQUtDLFVBQVVNLFFBQVFLLEVBQUtILEdBQ3ZCRCxJQUFJQyxFQUFPLENBQUNDLEVBQUtDLElBRXBCTixFQUFRLENBQ2JLLElBQUssS0FHVCxNQUFPUCxHQUVQLE9BQU9HLEVBQU8sQ0FDWkksSUFGRVAsT0FRVk4sSUFBSWUsRUFBS0gsR0FDUCxPQUFPLElBQUlMLFFBQVEsQ0FBQ0MsRUFBU0MsS0FFM0IsSUFFRSxPQURPTixLQUFLQyxVQUFVTSxRQUFRSyxHQUNsQkMsSUFBSUosRUFBTyxDQUFDQyxFQUFLQyxJQUVwQk4sRUFBUSxDQUNiSyxJQUFLLEVBQ0xDLEtBQU1BLEtBR1YsTUFBT1IsR0FFUCxPQUFPRyxFQUFPLENBQ1pJLElBRkVQLE9BUVZOLElBQUllLEVBQUtILEdBQ1AsT0FBTyxJQUFJTCxRQUFRLENBQUNDLEVBQVNDLEtBRTNCLElBRUUsT0FET04sS0FBS0MsVUFBVU0sUUFBUUssR0FDbEJDLElBQUlKLEVBQU8sQ0FBQ0MsRUFBS0MsSUFFcEJOLEVBQVEsQ0FDYkssSUFBSyxFQUNMQyxLQUFNQSxLQUdWLE1BQU9SLEdBRVAsT0FBT0csRUFBTyxDQUNaSSxJQUZFUCxPQVFWTixLQUFLZSxFQUFLSCxFQUFPSyxHQUNmLE9BQU8sSUFBSVYsUUFBUSxDQUFDQyxFQUFTQyxLQUMzQixJQUFPUyxFQUNQLElBTUUsT0FMQUEsRUFBT2YsS0FBS0MsVUFBVU0sUUFBUUssRUFBS0gsSUFDOUJPLEtBQUssQ0FBQ04sRUFBS0MsSUFDUEcsRUFBS0gsSUFFZEksRUFBS0UsV0FDRVosRUFBUSxDQUNiSyxJQUFLLElBRVAsTUFBT1AsR0FFUCxPQUFPRyxFQUFPLENBQ1pJLElBRkVQLE9BUVZOLFFBQ0UsT0FBT0csS0FBS0MsVUFBVWlCLFVBSzFCQyxPQUFPQyxRQUFVNUIifQ==